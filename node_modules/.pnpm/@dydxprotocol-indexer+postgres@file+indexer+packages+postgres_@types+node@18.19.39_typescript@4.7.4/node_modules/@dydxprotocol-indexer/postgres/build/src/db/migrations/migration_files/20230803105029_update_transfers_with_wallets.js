"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.down = exports.up = void 0;
async function up(knex) {
    return knex.schema.alterTable('transfers', (table) => {
        // Make senderSubaccountId and recipientSubaccountId nullable
        table.uuid('senderSubaccountId').nullable().alter();
        table.uuid('recipientSubaccountId').nullable().alter();
        // Add nullable columns recipientWalletAddress and senderWalletAddress
        table.string('recipientWalletAddress').nullable();
        table.string('senderWalletAddress').nullable();
    });
}
exports.up = up;
async function down(knex) {
    return knex.schema.alterTable('transfers', (table) => {
        // Drop the new columns
        table.dropColumn('recipientWalletAddress');
        table.dropColumn('senderWalletAddress');
        // Make senderSubaccountId and recipientSubaccountId not nullable again
        table.uuid('senderSubaccountId').notNullable().alter();
        table.uuid('recipientSubaccountId').notNullable().alter();
    });
}
exports.down = down;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAyMzA4MDMxMDUwMjlfdXBkYXRlX3RyYW5zZmVyc193aXRoX3dhbGxldHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9zcmMvZGIvbWlncmF0aW9ucy9taWdyYXRpb25fZmlsZXMvMjAyMzA4MDMxMDUwMjlfdXBkYXRlX3RyYW5zZmVyc193aXRoX3dhbGxldHMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRU8sS0FBSyxVQUFVLEVBQUUsQ0FBQyxJQUFVO0lBQ2pDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsS0FBSyxFQUFFLEVBQUU7UUFDbkQsNkRBQTZEO1FBQzdELEtBQUssQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNwRCxLQUFLLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUM7UUFFdkQsc0VBQXNFO1FBQ3RFLEtBQUssQ0FBQyxNQUFNLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNsRCxLQUFLLENBQUMsTUFBTSxDQUFDLHFCQUFxQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakQsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDO0FBVkQsZ0JBVUM7QUFFTSxLQUFLLFVBQVUsSUFBSSxDQUFDLElBQVU7SUFDbkMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtRQUNuRCx1QkFBdUI7UUFDdkIsS0FBSyxDQUFDLFVBQVUsQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDO1FBQzNDLEtBQUssQ0FBQyxVQUFVLENBQUMscUJBQXFCLENBQUMsQ0FBQztRQUV4Qyx1RUFBdUU7UUFDdkUsS0FBSyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3ZELEtBQUssQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUM1RCxDQUFDLENBQUMsQ0FBQztBQUNMLENBQUM7QUFWRCxvQkFVQyJ9