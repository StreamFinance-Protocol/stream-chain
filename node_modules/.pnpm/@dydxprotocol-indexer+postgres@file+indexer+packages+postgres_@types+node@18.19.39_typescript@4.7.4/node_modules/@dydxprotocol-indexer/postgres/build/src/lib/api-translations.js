"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getParentSubaccountNum = exports.getChildSubaccountNums = exports.orderTIFToAPITIF = exports.isOrderTIFPostOnly = void 0;
const constants_1 = require("../constants");
const types_1 = require("../types");
/**
 * Gets post-only boolean from Indexer TimeInForce value.
 * Only returns true if the passed in TimeInForce value is POST_ONLY
 * @param timeInForce
 * @returns
 */
function isOrderTIFPostOnly(timeInForce) {
    return timeInForce === types_1.TimeInForce.POST_ONLY;
}
exports.isOrderTIFPostOnly = isOrderTIFPostOnly;
/**
 * Converts Indexer TimeInForce to APITimeInForce value.
 * Special cases POST_ONLY as GTT.
 * @param timeInForce
 * @returns
 */
function orderTIFToAPITIF(timeInForce) {
    return constants_1.TIME_IN_FORCE_TO_API_TIME_IN_FORCE[timeInForce];
}
exports.orderTIFToAPITIF = orderTIFToAPITIF;
/**
 * Gets a list of all possible child subaccount numbers for a parent subaccount number
 * Child subaccounts = [128*0+parentSubaccount, 128*1+parentSubaccount ... 128*999+parentSubaccount]
 * @param parentSubaccount
 * @returns
 */
function getChildSubaccountNums(parentSubaccountNum) {
    if (parentSubaccountNum >= constants_1.MAX_PARENT_SUBACCOUNTS) {
        throw new Error(`Parent subaccount number must be less than ${constants_1.MAX_PARENT_SUBACCOUNTS}`);
    }
    return Array.from({ length: constants_1.CHILD_SUBACCOUNT_MULTIPLIER }, (_, i) => constants_1.MAX_PARENT_SUBACCOUNTS * i + parentSubaccountNum);
}
exports.getChildSubaccountNums = getChildSubaccountNums;
/**
 * Gets the parent subaccount number from a child subaccount number
 * Parent subaccount = childSubaccount % 128
 * @param childSubaccountNum
 * @returns
 */
function getParentSubaccountNum(childSubaccountNum) {
    if (childSubaccountNum > constants_1.MAX_PARENT_SUBACCOUNTS * constants_1.CHILD_SUBACCOUNT_MULTIPLIER) {
        throw new Error(`Child subaccount number must be less than ${constants_1.MAX_PARENT_SUBACCOUNTS * constants_1.CHILD_SUBACCOUNT_MULTIPLIER}`);
    }
    return childSubaccountNum % constants_1.MAX_PARENT_SUBACCOUNTS;
}
exports.getParentSubaccountNum = getParentSubaccountNum;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBpLXRyYW5zbGF0aW9ucy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9saWIvYXBpLXRyYW5zbGF0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSw0Q0FBdUg7QUFDdkgsb0NBQXVEO0FBRXZEOzs7OztHQUtHO0FBQ0gsU0FBZ0Isa0JBQWtCLENBQUMsV0FBd0I7SUFDekQsT0FBTyxXQUFXLEtBQUssbUJBQVcsQ0FBQyxTQUFTLENBQUM7QUFDL0MsQ0FBQztBQUZELGdEQUVDO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQixnQkFBZ0IsQ0FBQyxXQUF3QjtJQUN2RCxPQUFPLDhDQUFrQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3pELENBQUM7QUFGRCw0Q0FFQztBQUdEOzs7OztHQUtHO0FBQ0gsU0FBZ0Isc0JBQXNCLENBQUMsbUJBQTJCO0lBQ2hFLElBQUksbUJBQW1CLElBQUksa0NBQXNCLEVBQUU7UUFDakQsTUFBTSxJQUFJLEtBQUssQ0FBQyw4Q0FBOEMsa0NBQXNCLEVBQUUsQ0FBQyxDQUFDO0tBQ3pGO0lBQ0QsT0FBTyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUUsTUFBTSxFQUFFLHVDQUEyQixFQUFFLEVBQ3ZELENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUMsa0NBQXNCLEdBQUcsQ0FBQyxHQUFHLG1CQUFtQixDQUFDLENBQUM7QUFDaEUsQ0FBQztBQU5ELHdEQU1DO0FBRUQ7Ozs7O0dBS0c7QUFDSCxTQUFnQixzQkFBc0IsQ0FBQyxrQkFBMEI7SUFDL0QsSUFBSSxrQkFBa0IsR0FBRyxrQ0FBc0IsR0FBRyx1Q0FBMkIsRUFBRTtRQUM3RSxNQUFNLElBQUksS0FBSyxDQUFDLDZDQUE2QyxrQ0FBc0IsR0FBRyx1Q0FBMkIsRUFBRSxDQUFDLENBQUM7S0FDdEg7SUFDRCxPQUFPLGtCQUFrQixHQUFHLGtDQUFzQixDQUFDO0FBQ3JELENBQUM7QUFMRCx3REFLQyJ9