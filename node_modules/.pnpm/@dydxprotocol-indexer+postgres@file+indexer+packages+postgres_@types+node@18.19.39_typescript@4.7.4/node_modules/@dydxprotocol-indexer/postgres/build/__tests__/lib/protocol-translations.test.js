"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const big_js_1 = __importDefault(require("big.js"));
const v4_proto_parser_1 = require("@dydxprotocol-indexer/v4-proto-parser");
const v4_protos_1 = require("@dydxprotocol-indexer/v4-protos");
const protocol_translations_1 = require("../../src/lib/protocol-translations");
const constants_1 = require("../helpers/constants");
const types_1 = require("../../src/types");
const long_1 = __importDefault(require("long"));
const db_helpers_1 = require("../../src/helpers/db-helpers");
describe('protocolTranslations', () => {
    beforeAll(async () => {
        await (0, db_helpers_1.migrate)();
    });
    afterEach(async () => {
        await (0, db_helpers_1.clearData)();
    });
    afterAll(async () => {
        await (0, db_helpers_1.teardown)();
    });
    const orderIdShortTerm = {
        subaccountId: {
            owner: 'owner',
            number: 0,
        },
        clientId: 1,
        clobPairId: 0,
        orderFlags: v4_proto_parser_1.ORDER_FLAG_SHORT_TERM,
    };
    const orderIdLongTerm = {
        ...orderIdShortTerm,
        orderFlags: v4_proto_parser_1.ORDER_FLAG_LONG_TERM,
    };
    const goodTilBlockOrder = {
        orderId: orderIdShortTerm,
        side: v4_protos_1.IndexerOrder_Side.SIDE_BUY,
        subticks: long_1.default.fromValue(1000000, true),
        quantums: long_1.default.fromValue(1000000, true),
        goodTilBlock: 100,
        timeInForce: v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_UNSPECIFIED,
        reduceOnly: false,
        clientMetadata: 0,
        conditionType: v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED,
        conditionalOrderTriggerSubticks: long_1.default.fromValue(0, true),
    };
    const goodTilBlockTimeOrder = {
        ...goodTilBlockOrder,
        orderId: orderIdLongTerm,
        goodTilBlock: undefined,
        goodTilBlockTime: 1500000000,
    };
    const expectedGoodTilBlockTimeISO = '2017-07-14T02:40:00.000Z';
    describe('getTickSize', () => {
        it('successfully calculates tick size', () => {
            // 100 * 1e-8 * 1e-6 / 10e-10 = 1e-2
            expect((0, protocol_translations_1.getTickSize)(constants_1.defaultPerpetualMarket)).toEqual((0, big_js_1.default)(10).pow(-2).toFixed());
        });
    });
    describe('subticksToPrice', () => {
        it('successfully converts subticks to price', () => {
            const subticks = '100';
            // 100 * 1e-8 * 1e-6 / 1e-10 = .01
            expect((0, protocol_translations_1.subticksToPrice)(subticks, constants_1.defaultPerpetualMarket)).toEqual('0.01');
        });
    });
    describe('priceToSubticks', () => {
        it('successfully converts price to subticks', () => {
            const price = '0.01';
            // .01 * 1e-10 / 1e-6 / 1e-8 = 100
            expect((0, protocol_translations_1.priceToSubticks)(price, constants_1.defaultPerpetualMarket)).toEqual('100');
        });
    });
    describe('getStepSize', () => {
        it('successfully calculates step size', () => {
            // 10 * 1e-10 = 1e-9
            expect((0, protocol_translations_1.getStepSize)(constants_1.defaultPerpetualMarket)).toEqual((0, big_js_1.default)(10).pow(-9).toFixed());
        });
    });
    describe('fundingIndexToHumanFixedString', () => {
        it('successfully gets the human readable form of a funding index value', () => {
            // 1e3 * 1e-6 * 1e-6 / 1e-10 = 1e1
            expect((0, protocol_translations_1.fundingIndexToHumanFixedString)('1000', constants_1.defaultPerpetualMarket)).toEqual((0, big_js_1.default)(10).pow(1).toFixed());
        });
    });
    describe('funding8HourValuePpmTo1HourRate', () => {
        it('successfully gets the human readable form of a funding rate', () => {
            // 8e6 / 1e-6 / 8 = 1e1
            expect((0, protocol_translations_1.funding8HourValuePpmTo1HourRate)(8000000)).toEqual((0, big_js_1.default)(1).toFixed());
        });
    });
    describe('getGoodTilBlock', () => {
        it('gets goodTilBlock for order', () => {
            expect((0, protocol_translations_1.getGoodTilBlock)(goodTilBlockOrder)).toEqual(100);
        });
        it('returns undefined for order without goodTilBlock', () => {
            expect((0, protocol_translations_1.getGoodTilBlock)(goodTilBlockTimeOrder)).toBeUndefined();
        });
    });
    describe('getGoodTilBlockTime', () => {
        it('gets goodTilBlockTime as ISO string for order', () => {
            expect((0, protocol_translations_1.getGoodTilBlockTime)(goodTilBlockTimeOrder)).toEqual(expectedGoodTilBlockTimeISO);
        });
        it('returns undefined for order without goodTilBlockTime', () => {
            expect((0, protocol_translations_1.getGoodTilBlockTime)(goodTilBlockOrder)).toBeUndefined();
        });
    });
    describe('serializedQuantumsToAbsHumanFixedString', () => {
        it.each([
            [-1000000, -5, '10'],
            [-2000000000, -8, '20'],
            [1000000000, -5, '10000'],
            [1000, -1, '100'],
            [-1000000000, 15, '1000000000000000000000000'],
        ])('successfully converts serialized quantums (%d), atomic resolution (%d) to absolute fixed string', (sizeQuantums, atomicResolution, expectedFixedString) => {
            expect((0, protocol_translations_1.serializedQuantumsToAbsHumanFixedString)((0, v4_proto_parser_1.bigIntToBytes)(BigInt(sizeQuantums)), atomicResolution)).toEqual(expectedFixedString);
        });
    });
    describe('protocolOrderTIFToTIF', () => {
        it.each([
            ['FOK', v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_FILL_OR_KILL, types_1.TimeInForce.FOK],
            ['IOC', v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_IOC, types_1.TimeInForce.IOC],
            ['UNSPECIFIED', v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_UNSPECIFIED, types_1.TimeInForce.GTT],
            ['POST_ONLY', v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_POST_ONLY, types_1.TimeInForce.POST_ONLY],
        ])('successfully gets TimeInForce given protocol order TIF: %s', (_name, protocolTIF, expectedTimeInForce) => {
            expect((0, protocol_translations_1.protocolOrderTIFToTIF)(protocolTIF)).toEqual(expectedTimeInForce);
        });
        it('throws error if unrecognized protocolTIF given', () => {
            expect(() => {
                (0, protocol_translations_1.protocolOrderTIFToTIF)(100);
            }).toThrow(new Error('Unexpected TimeInForce from protocol: 100'));
        });
    });
    describe('tifToProtocolOrderTIF', () => {
        it.each([
            ['FOK', types_1.TimeInForce.FOK, v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_FILL_OR_KILL],
            ['IOC', types_1.TimeInForce.IOC, v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_IOC],
            ['GTT', types_1.TimeInForce.GTT, v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_UNSPECIFIED],
            ['POST_ONLY', types_1.TimeInForce.POST_ONLY, v4_protos_1.IndexerOrder_TimeInForce.TIME_IN_FORCE_POST_ONLY],
        ])('successfully gets protocol order TIF given TimeInForce: %s', (_name, timeInForce, expectedProtocolTIF) => {
            expect((0, protocol_translations_1.tifToProtocolOrderTIF)(timeInForce)).toEqual(expectedProtocolTIF);
        });
        it('throws error if unrecognized TimeInForce given', () => {
            expect(() => {
                (0, protocol_translations_1.tifToProtocolOrderTIF)('INVALID');
            }).toThrow(new Error('Unexpected TimeInForce: INVALID'));
        });
    });
    describe('protocolConditionTypeToOrderType', () => {
        it.each([
            ['UNSPECIFIED', v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED, types_1.OrderType.LIMIT],
            ['UNRECOGNIZED', v4_protos_1.IndexerOrder_ConditionType.UNRECOGNIZED, types_1.OrderType.LIMIT],
            ['STOP_LOSS', v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_STOP_LOSS, types_1.OrderType.STOP_LIMIT],
            ['TAKE_PROFIT', v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_TAKE_PROFIT, types_1.OrderType.TAKE_PROFIT],
        ])('successfully gets order type given protocol condition type: %s', (_name, conditionType, orderType) => {
            expect((0, protocol_translations_1.protocolConditionTypeToOrderType)(conditionType)).toEqual(orderType);
        });
        it('throws error if unrecognized ConditionType given', () => {
            expect(() => {
                (0, protocol_translations_1.protocolConditionTypeToOrderType)(100);
            }).toThrow(new Error('Unexpected ConditionType: 100'));
        });
    });
    describe('orderTypeToProtocolConditionType', () => {
        it.each([
            ['LIMIT', types_1.OrderType.LIMIT, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED],
            ['HARD_TRADE', types_1.OrderType.HARD_TRADE, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED],
            [
                'FAILED_HARD_TRADE',
                types_1.OrderType.FAILED_HARD_TRADE,
                v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED,
            ],
            ['MARKET', types_1.OrderType.MARKET, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED],
            [
                'TRAILING_STOP',
                types_1.OrderType.TRAILING_STOP,
                v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_UNSPECIFIED,
            ],
            ['STOP_LIMIT', types_1.OrderType.STOP_LIMIT, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_STOP_LOSS],
            ['STOP_MARKET', types_1.OrderType.STOP_MARKET, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_STOP_LOSS],
            ['TAKE_PROFIT', types_1.OrderType.TAKE_PROFIT, v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_TAKE_PROFIT],
            [
                'TAKE_PROFIT_MARKET',
                types_1.OrderType.TAKE_PROFIT_MARKET,
                v4_protos_1.IndexerOrder_ConditionType.CONDITION_TYPE_TAKE_PROFIT,
            ],
        ])('successfully gets order type given protocol condition type: %s', (_name, orderType, conditionType) => {
            expect((0, protocol_translations_1.orderTypeToProtocolConditionType)(orderType)).toEqual(conditionType);
        });
        it('throws error if unrecognized OrderType given', () => {
            expect(() => {
                (0, protocol_translations_1.orderTypeToProtocolConditionType)('INVALID');
            }).toThrow(new Error('Unexpected OrderType: INVALID'));
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdG9jb2wtdHJhbnNsYXRpb25zLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9fX3Rlc3RzX18vbGliL3Byb3RvY29sLXRyYW5zbGF0aW9ucy50ZXN0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsb0RBQXlCO0FBQ3pCLDJFQUFtSDtBQUNuSCwrREFNeUM7QUFDekMsK0VBYzZDO0FBQzdDLG9EQUE4RDtBQUM5RCwyQ0FBeUQ7QUFDekQsZ0RBQXdCO0FBQ3hCLDZEQUE0RTtBQUU1RSxRQUFRLENBQUMsc0JBQXNCLEVBQUUsR0FBRyxFQUFFO0lBQ3BDLFNBQVMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNuQixNQUFNLElBQUEsb0JBQU8sR0FBRSxDQUFDO0lBQ2xCLENBQUMsQ0FBQyxDQUFDO0lBRUgsU0FBUyxDQUFDLEtBQUssSUFBSSxFQUFFO1FBQ25CLE1BQU0sSUFBQSxzQkFBUyxHQUFFLENBQUM7SUFDcEIsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsS0FBSyxJQUFJLEVBQUU7UUFDbEIsTUFBTSxJQUFBLHFCQUFRLEdBQUUsQ0FBQztJQUNuQixDQUFDLENBQUMsQ0FBQztJQUVILE1BQU0sZ0JBQWdCLEdBQW1CO1FBQ3ZDLFlBQVksRUFBRTtZQUNaLEtBQUssRUFBRSxPQUFPO1lBQ2QsTUFBTSxFQUFFLENBQUM7U0FDVjtRQUNELFFBQVEsRUFBRSxDQUFDO1FBQ1gsVUFBVSxFQUFFLENBQUM7UUFDYixVQUFVLEVBQUUsdUNBQXFCO0tBQ2xDLENBQUM7SUFDRixNQUFNLGVBQWUsR0FBbUI7UUFDdEMsR0FBRyxnQkFBZ0I7UUFDbkIsVUFBVSxFQUFFLHNDQUFvQjtLQUNqQyxDQUFDO0lBQ0YsTUFBTSxpQkFBaUIsR0FBaUI7UUFDdEMsT0FBTyxFQUFFLGdCQUFnQjtRQUN6QixJQUFJLEVBQUUsNkJBQWlCLENBQUMsUUFBUTtRQUNoQyxRQUFRLEVBQUUsY0FBSSxDQUFDLFNBQVMsQ0FBQyxP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